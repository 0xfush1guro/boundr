<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Boundr</title>
    <link rel="stylesheet" href="styles/tailwind.css" />
    <link rel="stylesheet" href="styles/components.css" />
    <style>
      html:not(.dark) body,
      html:not(.dark) .bg-gray-50 {
        background-color: #c1c0b6 !important;
      }

      .light {
        background-color: #c1c0b6 !important;
        color: #111827 !important;
      }
      .light .text-gray-900 {
        color: #111827 !important;
      }
      .light .text-gray-600 {
        color: #4b5563 !important;
      }
      .light .text-gray-500 {
        color: #6b7280 !important;
      }
      .light .text-gray-400 {
        color: #9ca3af !important;
      }
      .light .text-gray-300 {
        color: #d1d5db !important;
      }
      .light .text-gray-700 {
        color: #374151 !important;
      }

      html.dark,
      html.dark body,
      html.dark .bg-gray-50,
      html.dark .dark\:bg-gray-900 {
        background-color: #1e1e1b !important;
      }

      html.dark .bg-white,
      html.dark .dark\:bg-gray-800 {
        background-color: #1e293b !important;
      }

      html.dark .text-gray-900:not(button),
      html.dark .dark\:text-gray-100:not(button),
      html.dark h1,
      html.dark h2,
      html.dark h3,
      html.dark h4,
      html.dark h5,
      html.dark h6 {
        color: #f1f5f9 !important;
      }

      html.dark .text-gray-600:not(button),
      html.dark .dark\:text-gray-400:not(button),
      html.dark label,
      html.dark p {
        color: #cbd5e1 !important;
      }

      html.dark .border-gray-100,
      html.dark .dark\:border-gray-700 {
        border-color: #334155 !important;
      }

      html.dark .text-gray-500:not(button),
      html.dark .text-gray-400:not(button),
      html.dark .text-gray-300:not(button) {
        color: #94a3b8 !important;
      }

      html.dark button,
      html.light button {
        color: inherit !important;
        background-color: inherit !important;
      }

      .message-toast {
        color: white !important;
      }
      .light .message-toast {
        color: white !important;
      }
      .dark .message-toast {
        color: white !important;
      }

      .message-toast,
      .message-toast * {
        color: white !important;
      }

      html.light .message-toast,
      html.dark .message-toast {
        color: white !important;
      }

      #manual-reset {
        background-color: #f97316 !important;
      }
      #manual-reset:hover {
        background-color: #ea580c !important;
      }

      #pause-toggle {
        transition: all 0.2s ease !important;
        border-color: #374151 !important;
        color: #374151 !important;
      }
      html:not(.dark) #pause-toggle {
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06) !important;
      }
      html:not(.dark) #pause-toggle:hover {
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06) !important;
      }

      html.dark #pause-toggle {
        color: #d1d5db !important;
      }
      html.dark #pause-toggle:hover {
        background-color: #4b5563 !important;
        color: #ffffff !important;
      }

      #pause-toggle.bg-blue-600 {
        background-color: #2563eb !important;
        color: white !important;
      }
      #pause-toggle.bg-blue-600:hover {
        background-color: #1d4ed8 !important;
        color: white !important;
      }

      html:not(.dark) #pause-toggle {
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06) !important;
      }
      html:not(.dark) #pause-toggle:hover {
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06) !important;
      }

      #pause-toggle.bg-gray-50 {
        background-color: #f9fafb !important;
        color: #374151 !important;
      }
      #pause-toggle.bg-gray-50:hover {
        background-color: #f3f4f6 !important;
      }

      html.dark #pause-toggle.dark\:bg-gray-800 {
        background-color: #374151 !important;
        color: #d1d5db !important;
      }
      html.dark #pause-toggle.dark\:bg-gray-800:hover {
        background-color: #4b5563 !important;
      }

      html.dark #pause-toggle,
      html.light #pause-toggle {
        color: inherit !important;
      }

      button {
        color: inherit !important;
      }

      #open-options {
        transition: all 0.2s ease !important;
        border-color: #374151 !important;
        color: #374151 !important;
        cursor: pointer !important;
        background-color: inherit !important;
      }

      html:not(.dark) #open-options {
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06) !important;
      }
      html:not(.dark) #open-options:hover {
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06) !important;
      }

      html.dark #open-options.dark\:bg-gray-800 {
        color: #d1d5db !important;
      }
      html.dark #open-options.dark\:bg-gray-800:hover {
        background-color: #4b5563 !important;
      }

      #open-faq {
        background-color: #f3f4f6 !important;
        color: #4b5563 !important;
      }
      #open-faq:hover {
        background-color: #e5e7eb !important;
      }
      html.dark #open-faq {
        background-color: #374151 !important;
        color: #d1d5db !important;
      }
      html.dark #open-faq:hover {
        background-color: #4b5563 !important;
      }

      #progress-path {
        stroke: #3b82f6 !important;
      }
      .dark #progress-path {
        stroke: #3b82f6 !important;
      }

      svg {
        display: block !important;
        width: 100% !important;
        height: 100% !important;
      }

      .text-gray-300 {
        color: #d1d5db !important;
      }
      .dark .text-gray-600 {
        color: #4b5563 !important;
      }

      #extension-toggle {
        background-color: #e5e7eb !important;
        border: 1px solid #d1d5db !important;
        transition: all 0.3s ease !important;
        height: 15px !important;
        width: 5px !important;
        cursor: pointer !important;
      }
      #extension-toggle.enabled {
        background-color: #10b981 !important;
        border-color: #059669 !important;
        box-shadow: 0 0 0 1px rgba(16, 185, 129, 0.1) !important;
      }
      #extension-toggle.disabled {
        background-color: #ef4444 !important;
        border-color: #dc2626 !important;
        box-shadow: 0 0 0 1px rgba(239, 68, 68, 0.1) !important;
      }
      #extension-toggle.enabled span {
        transform: translateX(1rem) !important;
        background-color: #ffffff !important;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1) !important;
      }
      #extension-toggle.disabled span {
        transform: translateX(0.125rem) !important;
        background-color: #ffffff !important;
        box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1) !important;
      }
      #extension-toggle:hover {
        transform: scale(1.05) !important;
      }
      #extension-toggle:active {
        transform: scale(0.95) !important;
      }

      #permissions-link:hover {
        color: #4b5563 !important;
      }

      html.dark input[type='number'],
      html.dark input[type='text'],
      html.dark input[type='time'] {
        background-color: #374151 !important;
        color: #f9fafb !important;
        border-color: #4b5563 !important;
      }

      html.dark input[type='number']:focus,
      html.dark input[type='text']:focus,
      html.dark input[type='time']:focus {
        background-color: #374151 !important;
        color: #f9fafb !important;
        border-color: #3b82f6 !important;
        outline: none !important;
      }

      html.dark .btn-ghost {
        background-color: #374151 !important;
        color: #f9fafb !important;
        border-color: #4b5563 !important;
      }
      html.dark .btn-ghost:hover {
        background-color: #4b5563 !important;
        color: #ffffff !important;
      }
    </style>
  </head>
  <body
    class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 font-sans transition-colors"
    style="padding: 20px; margin: 0"
  >
    <div class="w-80 px-4 py-2" style="max-height: 100vh">
      <!-- Header -->
      <div class="flex items-center justify-between mb-3">
        <div class="flex items-center gap-2">
          <div
            class="w-5 h-5 rounded-lg flex items-center justify-center shadow-sm"
          >
            <img src="../assets/icon-16x16.png" alt="Boundr" class="w-5 h-5" />
          </div>
          <h1
            class="items-center font-semibold text-gray-900 dark:text-gray-100"
            style="margin-left: -6px; font-size: 14px;"
          >
            Boundr
          </h1>
        </div>

        <!-- Extension Toggle -->
        <div class="flex items-center gap-2">
          <span
            class="text-xs text-gray-500 dark:text-gray-400"
            id="toggle-label"
            >Enabled</span
          >
          <button
            id="extension-toggle"
            class="relative inline-flex h-6 w-11 items-center rounded-full transition-all duration-300 ease-in-out enabled"
            data-enabled="true"
          >
            <span
              class="inline-block h-4 w-4 transform rounded-full bg-white transition-all duration-300 ease-in-out translate-x-5 shadow-sm"
            ></span>
          </button>
        </div>
      </div>

      <!-- Usage Display -->
      <div
        class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 transition-colors overflow-hidden flex flex-col"
        style="max-height: 300px; min-height: 180px; padding: 10px"
      >
        <!-- Header -->
        <div class="flex items-center justify-between p-3 pb-2">
          <span class="text-xs font-medium text-gray-600 dark:text-gray-400"
            >Today's Usage</span
          >
          <span
            class="text-xs font-medium text-gray-600 dark:text-gray-400 px-2 py-1 rounded-full"
            id="reset-time"
            >Resets at 04:00</span
          >
        </div>

        <!-- Main Content - Centered -->
        <div class="flex-1 flex flex-col items-center justify-center py-4">
          <!-- Progress Ring -->
          <div class="relative w-32 h-32 mb-2">
            <svg class="w-32 h-32 transform -rotate-90" viewBox="0 0 100 100">
              <!-- Background circle -->
              <circle
                cx="50"
                cy="50"
                r="42"
                stroke="#e5e7eb"
                stroke-width="8"
                fill="none"
                class="dark:stroke-gray-600"
              />
              <!-- Progress circle -->
              <circle
                id="progress-circle"
                cx="50"
                cy="50"
                r="42"
                stroke="#3b82f6"
                stroke-width="8"
                fill="none"
                stroke-linecap="round"
                stroke-dasharray="0 264"
                class="transition-all duration-500 ease-out"
              />
            </svg>
            <div class="absolute inset-0 flex items-center justify-center">
              <div class="text-center">
                <div
                  id="time-used"
                  class="text-lg font-bold text-gray-900 dark:text-gray-100"
                >
                  0m
                </div>
                <div
                  id="time-remaining"
                  class="text-xs text-gray-500 dark:text-gray-400"
                >
                  1m left
                </div>
              </div>
            </div>
          </div>

          <!-- Status -->
          <div class="text-center">
            <div
              id="status-text"
              class="text-sm font-medium text-gray-600 dark:text-gray-400"
            >
              Active
            </div>
            <div
              id="nudge-indicator"
              class="text-xs text-orange-500 dark:text-orange-400 hidden mt-2 flex items-center justify-center gap-1"
            >
              <span>Nudge sent</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Quick Actions -->
      <div class="space-y-2" style="margin: 15px 0px">
        <button
          id="pause-toggle"
          class="w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 text-gray-700 dark:text-gray-300 font-medium rounded-lg transition-colors duration-200 border border-gray-200 shadow-sm"
        >
          <span id="pause-text">Pause</span>
        </button>

        <button
          id="manual-reset"
          class="w-full px-4 py-2.5 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-lg transition-colors duration-200 shadow-sm"
        >
          Reset
        </button>
      </div>

      <!-- Navigation -->
      <div class="flex gap-2 mb-3">
        <button
          id="open-options"
          class="flex-1 px-4 py-2.5 dark:bg-gray-800 hover:bg-gray-100 text-gray-700 dark:text-gray-300 font-medium rounded-lg transition-colors duration-200 border border-gray-200 shadow-sm"
        >
          Options
        </button>
        <button
          id="open-faq"
          class="px-4 py-2.5 bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 text-gray-600 dark:text-gray-400 font-medium rounded-lg transition-colors duration-200"
        >
          FAQ
        </button>
      </div>

      <!-- Footer -->
      <div class="pt-3 border-t border-gray-100 dark:border-gray-700">
        <div
          class="text-xs text-gray-500 dark:text-gray-400 text-center space-y-2"
        >
          <div id="next-reset" class="font-medium">
            Next reset: Tomorrow at 04:00 AM
          </div>
          <div
            class="flex flex-col text-center text-xs items-center justify-center gap-2"
          >
            <a
              href="#"
              id="permissions-link"
              class="text-sm font-bold text-gray-500 hover:underline transition-colors visited:text-purple-600"
              style="text-decoration: none !important"
              >Grant permissions</a
            >
            <div>
              Made with ❤ by
              <a
                href="https://x.com/0xFush1guro"
                class="text-gray-600 font-bold hover:underline transition-colors visited:text-purple-600"
                style="text-decoration: none !important"
                >0xfush1guro</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
